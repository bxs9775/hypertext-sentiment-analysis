<script type="module" src="/assets/scripts/directed-graph.js"></script>
<script  type="application/javascript">
let graph = {{{graph}}};
</script>

<h1>Corpora - &quot;{{corpora.fullName}}&quot;</h1>
<p>Name: &quot;{{corpora.fullName}}&quot;</p>
<p>Author: {{corpora.author}}</p>
<p>Original source: <a href={{corpora.source}}>{{corpora.source}}</a></p>
<svg id="hypertext-graph">
    <!-- Marker code from https://developer.mozilla.org/en-US/docs/Web/SVG/Element/marker -->
    <defs>
    <!-- A marker to be used as an arrowhead -->
    <marker
      id="arrow"
      viewBox="0 0 10 10"
      refX="5"
      refY="5"
      markerWidth="6"
      markerHeight="6"
      orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" />
    </marker>
  </defs>
</svg>
{{#if paths}}
<p><em>Narrative paths</em></p>
<p><a href={{append corpora.shortName "/path"}}>All paths emotional arc plot</a></p>
<ol>
  {{#each paths as |path|}}
    <li> <a href={{append (append ../corpora.shortName (append '/path/' (toFixed @index))) }}>
      {{#each path}}
      <span class="passage">{{this}}</span>
      {{/each}}
    </a> </li>
  {{/each}}
</ol>
{{/if}}